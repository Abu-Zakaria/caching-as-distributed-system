<!DOCTYPE html>
<html>
	<head>
		<title>
			Golang â€“ Caching as distributed system
		</title>
	</head>

	<body>
		<div>
			<label>
				Select your region
			</label>
			<select id="select_region">
				<option>
					Asia
				</option>
				<option>
					Europe
				</option>
				<option>
					USA
				</option>
			</select>
		</div>

		<div>
			<label>
				Choose your favorite number
			</label>
			<input type="number" id="favorite_number"/>
		</div>

		<div>
			<button id="save_btn">Save</button>
		</div>

		<br>
		<br>
		<br>

		<div>
			<button id="get_favorite_number">Get the available favorite number</button>
			<p id="available_favorite_number"></p>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

		<script type="text/javascript">
			var save_favorite_number_url = "http://localhost:9090/favorite_number"

			var save_btn = document.getElementById("save_btn")

			save_btn.addEventListener('click', function(e) {
				e.preventDefault();

				var select_region = document.getElementById("select_region")
				var favorite_number = document.getElementById("favorite_number")

				axios({
					url: save_favorite_number_url,
					method: "post",
					data: {
						region: select_region.value,
						favorite_number: favorite_number.value
					}
				}).then(function(response) {
					console.log(response.data)
				})
				.catch(function(error) {
					alert(error.response.data)
				})
			})
		</script>
	</body>
</html>

